{"remainingRequest":"/Users/andreamonroy/Happy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andreamonroy/Happy/src/views/address.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andreamonroy/Happy/src/views/address.vue","mtime":1578163764514},{"path":"/Users/andreamonroy/Happy/node_modules/cache-loader/dist/cjs.js","mtime":1575991294243},{"path":"/Users/andreamonroy/Happy/node_modules/vue-loader/lib/index.js","mtime":1576527882455}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAiLi4vYXNzZXRzL2Nzcy9zdHlsZS5jc3MiOwppbXBvcnQgKiBhcyBBcGkgZnJvbSAiLi4vLi4vc2VydmVyL2luZGV4IjsKaW1wb3J0IGxvY2FsU3RvcmFnZSBmcm9tICJsb2NhbFN0b3JhZ2UiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRkcmVzc0Zvcm06IHsKICAgICAgICBhZGRyZXNzOiAiIiwKICAgICAgICBkaXN0cmljdDogIiIKICAgICAgfSwKICAgICAgdmFsaWRhdGVGb3JtOiB7CiAgICAgICAgYWRkcmVzczogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIkxhIGRpcmVjY2nDs24gZXMgcmVxdWVyaWRhIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBkaXN0cmljdDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIkVsIGRpc3RyaXRvIGVzIHJlcXVlcmlkbyIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG5leHRQYWdlKCkgewogICAgICB0aGlzLiRyZWZzWyJhZGRyZXNzRm9ybSJdLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJkYXRhIikpOwogICAgICAgICAgZGF0YS5saW5lID0gdGhpcy5hZGRyZXNzRm9ybS5hZGRyZXNzOwogICAgICAgICAgZGF0YS5kaXN0cmljdCA9IHRoaXMuYWRkcmVzc0Zvcm0uZGlzdHJpY3Q7CiAgICAgICAgICBBcGkucmVnaXN0ZXJQYXJlbnQoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInBhcmVudElkIiwgcmVzLmRhdGEuX2lkKTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBtb21lbnQoZGF0YS5iaXJ0aGRheSkuaXNBZnRlcihtb21lbnQoKS5zdWJ0cmFjdCgxOCwgInllYXJzIikpCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2NvbnRyYWN0Iik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYWRkQ2hpbGQiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAiRXJyb3IgZW4gZWwgcmVnaXN0cm8iLAogICAgICAgICAgICAgICAgZGVzYzogcmVzLnJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICJIYXkgY2FtcG9zIGludsOhbGlkb3MgZW4gZWwgZm9ybXVsYXJpbyIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["address.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"address.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <section class=\"center mt-60\">\n    <h1>INGRESA LA INFORMACIÓN DE TU DIRECCIÓN</h1>\n    <Form\n      ref=\"addressForm\"\n      :model=\"addressForm\"\n      :rules=\"validateForm\"\n      class=\"mt-60\"\n    >\n      <Row>\n        <Col span=\"8\" offset=\"8\">\n          <FormItem prop=\"address\" label=\"Dirección\"\n            ><Input\n              v-model=\"addressForm.address\"\n              placeholder=\"Ingrese su dirección aquí\"\n            ></Input\n          ></FormItem>\n        </Col>\n      </Row>\n      <Row>\n        <Col span=\"8\" offset=\"8\">\n          <FormItem prop=\"district\" label=\"Distrito\" placeholder=\"Seleccione\">\n            <Select v-model=\"addressForm.district\" placeholder=\"Distrito\">\n              <Option value=\"LIMA\">LIMA</Option>\n              <Option value=\"ANCON\">ANCON</Option>\n              <Option value=\"ATE\">ATE</Option>\n              <Option value=\"BARRANCO\">BARRANCO</Option>\n              <Option value=\"BREÑA\">BREÑA</Option>\n              <Option value=\"CARABAYLLO\">CARABAYLLO</Option>\n              <Option value=\"CHACLACAYO\">CHACLACAYO</Option>\n              <Option value=\"CHORRILLOS\">CHORRILLOS</Option>\n              <Option value=\"CIENEGUILLA\">CIENEGUILLA</Option>\n              <Option value=\"COMAS\">COMAS</Option>\n              <Option value=\"EL AGUSTINO\">EL AGUSTINO</Option>\n              <Option value=\"INDEPENDENCIA\">INDEPENDENCIA</Option>\n              <Option value=\"JESUS MARIA\">JESUS MARIA</Option>\n              <Option value=\"LA MOLINA\">LA MOLINA</Option>\n              <Option value=\"LA VICTORIA\">LA VICTORIA</Option>\n              <Option value=\"LINCE\">LINCE</Option>\n              <Option value=\"LOS OLIVOS\">LOS OLIVOS</Option>\n              <Option value=\"LURIGANCHO\">LURIGANCHO</Option>\n              <Option value=\"LURIN\">LURIN</Option>\n              <Option value=\"MAGDALENA DEL MAR\">MAGDALENA DEL MAR</Option>\n              <Option value=\"MIRAFLORES\">MIRAFLORES</Option>\n              <Option value=\"PACHACAMAC\">PACHACAMAC</Option>\n              <Option value=\"PUCUSANA\">PUCUSANA</Option>\n              <Option value=\"PUEBLO LIBRE\">PUEBLO LIBRE</Option>\n              <Option value=\"PUENTE PIEDRA\">PUENTE PIEDRA</Option>\n              <Option value=\"PUNTA HERMOSA\">PUNTA HERMOSA</Option>\n              <Option value=\"PUNTA NEGRA\">PUNTA NEGRA</Option>\n              <Option value=\"RIMAC\">RIMAC</Option>\n              <Option value=\"SAN BARTOLO\">SAN BARTOLO</Option>\n              <Option value=\"SAN BORJA\">SAN BORJA</Option>\n              <Option value=\"SAN ISIDRO\">SAN ISIDRO</Option>\n              <Option value=\"SAN JUAN DE LURIGANCHO\"\n                >SAN JUAN DE LURIGANCHO</Option\n              >\n              <Option value=\"SAN JUAN DE MIRAFLORES\"\n                >SAN JUAN DE MIRAFLORES</Option\n              >\n              <Option value=\"SAN LUIS\">SAN LUIS</Option>\n              <Option value=\"SAN MARTIN DE PORRES\">SAN MARTIN DE PORRES</Option>\n              <Option value=\"SAN MIGUEL\">SAN MIGUEL</Option>\n              <Option value=\"SANTA ANITA\">SANTA ANITA</Option>\n              <Option value=\"SANTA MARIA DEL MAR\">SANTA MARIA DEL MAR</Option>\n              <Option value=\"SANTA ROSA\">SANTA ROSA</Option>\n              <Option value=\"SANTIAGO DE SURCO\">SANTIAGO DE SURCO</Option>\n              <Option value=\"SURQUILLO\">SURQUILLO</Option>\n              <Option value=\"VILLA EL SALVADOR\">VILLA EL SALVADOR</Option>\n              <Option value=\"VILLA MARIA DEL TRIUNFO\"\n                >VILLA MARIA DEL TRIUNFO</Option\n              >\n            </Select></FormItem\n          >\n        </Col>\n      </Row>\n      <Button @click=\"nextPage\">Siguiente</Button>\n    </Form>\n  </section>\n</template>\n<script>\nimport \"../assets/css/style.css\";\nimport * as Api from \"../../server/index\";\nimport localStorage from \"localStorage\";\nimport moment from \"moment\";\nexport default {\n  data() {\n    return {\n      addressForm: {\n        address: \"\",\n        district: \"\"\n      },\n      validateForm: {\n        address: [\n          {\n            required: true,\n            message: \"La dirección es requerida\",\n            trigger: \"blur\"\n          }\n        ],\n        district: [\n          {\n            required: true,\n            message: \"El distrito es requerido\",\n            trigger: \"blur\"\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    nextPage() {\n      this.$refs[\"addressForm\"].validate(async valid => {\n        if (valid) {\n          const data = JSON.parse(localStorage.getItem(\"data\"));\n          data.line = this.addressForm.address;\n          data.district = this.addressForm.district;\n          Api.registerParent(data).then(res => {\n            console.log(res);\n            if (res.status === 200) {\n              localStorage.setItem(\"parentId\", res.data._id);\n              if (\n                moment(data.birthday).isAfter(moment().subtract(18, \"years\"))\n              ) {\n                this.$router.push(\"/contract\");\n              } else {\n                this.$router.push(\"/addChild\");\n              }\n            } else {\n              this.$Notice.error({\n                title: \"Error en el registro\",\n                desc: res.response.data.message\n              });\n            }\n          });\n        } else {\n          this.$Notice.error({\n            title: \"Hay campos inválidos en el formulario\"\n          });\n        }\n      });\n    }\n  }\n};\n</script>\n"]}]}