{"remainingRequest":"C:\\Users\\Administrador\\Happy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrador\\Happy\\src\\views\\registerParent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrador\\Happy\\src\\views\\registerParent.vue","mtime":1578079458693},{"path":"C:\\Users\\Administrador\\Happy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1578077751119},{"path":"C:\\Users\\Administrador\\Happy\\node_modules\\vue-loader\\lib\\index.js","mtime":1578077754156}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgIi4uL2Fzc2V0cy9jc3Mvc3R5bGUuY3NzIjsNCmltcG9ydCAqIGFzIEFwaSBmcm9tICIuLi8uLi9zZXJ2ZXIvaW5kZXgiOw0KaW1wb3J0IGxvY2FsU3RvcmFnZSBmcm9tICJsb2NhbFN0b3JhZ2UiOw0KaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIGNvbnN0IHZhbGlkYXRlUGhvbmVOdW1iZXIgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKCJeKFswLTldezksfSkkIik7DQogICAgICBpZiAodmFsdWUgPT09ICIiIHx8ICF2YWx1ZSkgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIk7Dum1lcm8gdGVsZWbDs25pY28gZXMgcmVxdWVyaWRvIikpOw0KICAgICAgfSBlbHNlIGlmICh2YWx1ZS5sZW5ndGggIT09IDkpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCJEZWJlIHNlciBzw7NsbyA5IGTDrWdpdG9zIikpOw0KICAgICAgfSBlbHNlIGlmICghcmVnLnRlc3QodmFsdWUpKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigiRm9ybWF0byBuw7ptZXJvIHRlbGVmw7NuaWNvIGVzIGludsOhbGlkbyIpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCk7DQogICAgICB9DQogICAgfTsNCiAgICBjb25zdCB2YWxpZGF0ZWlkZW50aXR5RG9jdW1lbnROdW1iZXIgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICAvLyAvW14wLTldL2dpDQogICAgICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKCJeKFtBLVowLTldezgsOX0pJCIpOw0KICAgICAgaWYgKHZhbHVlID09PSAiIikgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIk5vIHB1ZWRlIGVzdGFyIHZhY8OtbyIpKTsNCiAgICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoICE9PSA4IHx8IGlzTmFOKHZhbHVlKSkgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIkVsIG7Dum1lcm8gZGUgZG9jdW1lbnRvIGRlYmUgc2VyIGRlIDggbsO6bWVyb3MiKSk7DQogICAgICB9IGVsc2UgaWYgKCFyZWcudGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCJGb3JtYXRvIGludsOhbGlkbyIpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCk7DQogICAgICB9DQogICAgfTsNCiAgICBjb25zdCBpc0FkdWx0ID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKHZhbHVlID09PSAiIiB8fCB0eXBlb2YgdmFsdWUgPT09ICJ1bmRlZmluZWQiKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigiRmVjaGEgZGUgbmFjaW1pZW50byBlcyByZXF1ZXJpZGEiKSk7DQogICAgICB9IGVsc2UgaWYgKG1vbWVudCh2YWx1ZSkuaXNBZnRlcihtb21lbnQoKS5zdWJ0cmFjdCgxNSwgInllYXJzIikpKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigiRGViZSBzZXIgbWF5b3IgZGUgMTUgYcOxb3MiKSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgfQ0KICAgIH07DQogICAgcmV0dXJuIHsNCiAgICAgIHBhcmVudEZvcm06IHsNCiAgICAgICAgbmFtZXM6ICIiLA0KICAgICAgICBzdXJuYW1lOiAiIiwNCiAgICAgICAgaWRlbnRpdHlEb2N1bWVudE51bWJlcjogIiIsDQogICAgICAgIGJpcnRoZGF5OiAiIiwNCiAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICBwaG9uZU51bWJlcjogIiIsDQogICAgICAgIGdlbmRlcjogIiIsDQogICAgICAgIHNwZWNpYWxPZmZlcjogIiINCiAgICAgIH0sDQogICAgICB2YWxpZGF0ZUZvcm06IHsNCiAgICAgICAgbmFtZXM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICJFbCBub21icmUgZXMgcmVxdWVyaWRvIiwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgc3VybmFtZTogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogIkVsIGFwZWxsaWRvIGVzIHJlcXVlcmlkbyIsDQogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIGVtYWlsOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAiRWwgY29ycmVvIGVsZWN0csOzbmljbyBlcyByZXF1ZXJpZG8iLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgICAgfSwNCiAgICAgICAgICB7IHR5cGU6ICJlbWFpbCIsIG1lc3NhZ2U6ICJGb3JtYXRvIGludsOhbGlkbyIsIHRyaWdnZXI6ICJibHVyIiB9DQogICAgICAgIF0sDQogICAgICAgIHBob25lTnVtYmVyOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgdmFsaWRhdG9yOiB2YWxpZGF0ZVBob25lTnVtYmVyLCB0cmlnZ2VyOiAiY2hhbmdlIiB9DQogICAgICAgIF0sDQogICAgICAgIGlkZW50aXR5RG9jdW1lbnROdW1iZXI6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVpZGVudGl0eURvY3VtZW50TnVtYmVyLA0KICAgICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSINCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIGdlbmRlcjogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICJFbCBnw6luZXJvIGVzIHJlcXVlcmlkbyIsIHRyaWdnZXI6ICJibHVyIiB9DQogICAgICAgIF0sDQogICAgICAgIHNwZWNpYWxPZmZlcjogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogIkVzdGUgY2FtcG8gZXMgcmVxdWVyaWRvIiwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgYmlydGhkYXk6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIHR5cGU6ICJkYXRlIiwNCiAgICAgICAgICAgIHZhbGlkYXRvcjogaXNBZHVsdCwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIG5leHRQYWdlKCkgew0KICAgICAgdGhpcy4kcmVmc1sicGFyZW50Rm9ybSJdLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgbW9tZW50KHRoaXMucGFyZW50Rm9ybS5iaXJ0aGRheSkuaXNBZnRlcigNCiAgICAgICAgICAgICAgICBtb21lbnQoKS5zdWJ0cmFjdCgxOCwgInllYXJzIikNCiAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIHRoaXMucGFyZW50Rm9ybS5ub3RBZHVsdCA9IHRydWU7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLnBhcmVudEZvcm0ubm90QWR1bHQgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJkYXRhIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJlbnRGb3JtKSk7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2FkZHJlc3MiKTsNCiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsNCiAgICAgICAgICAgICAgdGl0bGU6ICJObyBzZSBwdWRvIGNvbXBsZXRhciBlbCByZWdpc3RybyINCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiROb3RpY2UuZXJyb3Ioew0KICAgICAgICAgICAgdGl0bGU6ICJIYXkgY2FtcG9zIGludsOhbGlkb3MgZW4gZWwgZm9ybXVsYXJpbyINCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBnb0JhY2soKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Fib3V0Iik7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["registerParent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"registerParent.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <section class=\"center mt-60 font-20\">\r\n    <h1>INGRESE SU INFORMACIÓN AL REGISTRO</h1>\r\n    <Form\r\n      ref=\"parentForm\"\r\n      :model=\"parentForm\"\r\n      :rules=\"validateForm\"\r\n      class=\"mt-60\"\r\n      label-position=\"top\"\r\n    >\r\n      <Row type=\"flex\" justify=\"space-around\">\r\n        <Col span=\"7\">\r\n          <FormItem prop=\"names\" label=\"Nombre\"\r\n            ><Input v-model=\"parentForm.names\" placeholder=\"ej. Andrea\"></Input\r\n          ></FormItem>\r\n        </Col>\r\n        <Col span=\"7\">\r\n          <FormItem prop=\"surname\" label=\"Apellido\"\r\n            ><Input\r\n              v-model=\"parentForm.surname\"\r\n              placeholder=\"ej. Sánchez\"\r\n            ></Input\r\n          ></FormItem>\r\n        </Col>\r\n        <Col span=\"7\">\r\n          <FormItem prop=\"identityDocumentNumber\" label=\"DNI\"\r\n            ><Input\r\n              v-model=\"parentForm.identityDocumentNumber\"\r\n              placeholder=\"ej. 12345678\"\r\n            ></Input\r\n          ></FormItem>\r\n        </Col>\r\n      </Row>\r\n      <Row type=\"flex\" justify=\"space-around\">\r\n        <Col span=\"7\">\r\n          <FormItem prop=\"email\" label=\"Correo electrónico\"\r\n            ><Input\r\n              v-model=\"parentForm.email\"\r\n              placeholder=\"ej. happyland@gmail.com\"\r\n            ></Input\r\n          ></FormItem>\r\n        </Col>\r\n        <Col span=\"7\">\r\n          <FormItem prop=\"phoneNumber\" label=\"Celular\"\r\n            ><Input\r\n              v-model=\"parentForm.phoneNumber\"\r\n              placeholder=\"987654321\"\r\n            ></Input\r\n          ></FormItem>\r\n        </Col>\r\n        <Col span=\"7\">\r\n          <FormItem prop=\"gender\" label=\"Género\">\r\n            <RadioGroup v-model=\"parentForm.gender\">\r\n              <Radio label=\"female\">Femenino</Radio>\r\n              <Radio label=\"male\">Masculino</Radio>\r\n            </RadioGroup>\r\n          </FormItem>\r\n        </Col>\r\n      </Row>\r\n      <Row type=\"flex\" justify=\"space-around\">\r\n        <Col span=\"7\">\r\n          <FormItem\r\n            prop=\"specialOffer\"\r\n            label=\"Me gustaría recibir ofertas especiales a través de:\"\r\n          >\r\n            <RadioGroup v-model=\"parentForm.specialOffer\">\r\n              <Radio label=\"mail\">Email</Radio>\r\n              <Radio label=\"sms\">Mensaje de texto</Radio>\r\n            </RadioGroup>\r\n          </FormItem>\r\n        </Col>\r\n        <Col span=\"7\">\r\n          <FormItem prop=\"birthday\" label=\"Fecha de nacimiento\">\r\n            <DatePicker\r\n              type=\"date\"\r\n              :editable=\"true\"\r\n              format=\"yyyy-MM-dd\"\r\n              :confirm=\"false\"\r\n              placeholder=\"Fecha de nacimiento\"\r\n              v-model=\"parentForm.birthday\"\r\n            ></DatePicker>\r\n          </FormItem>\r\n        </Col>\r\n        <Col span=\"7\"></Col>\r\n      </Row>\r\n      <br />\r\n      <Row type=\"flex\" justify=\"space-between\">\r\n        <Col span=\"6\"\r\n          ><Button @click=\"goBack\">\r\n            <Icon type=\"ios-arrow-back\" />Regresar</Button\r\n          >\r\n        </Col>\r\n        <Col span=\"6\"><Button @click=\"nextPage\">Siguiente</Button> </Col>\r\n      </Row>\r\n    </Form>\r\n  </section>\r\n</template>\r\n<script>\r\nimport \"../assets/css/style.css\";\r\nimport * as Api from \"../../server/index\";\r\nimport localStorage from \"localStorage\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  data() {\r\n    const validatePhoneNumber = (rule, value, callback) => {\r\n      const reg = new RegExp(\"^([0-9]{9,})$\");\r\n      if (value === \"\" || !value) {\r\n        callback(new Error(\"Número telefónico es requerido\"));\r\n      } else if (value.length !== 9) {\r\n        callback(new Error(\"Debe ser sólo 9 dígitos\"));\r\n      } else if (!reg.test(value)) {\r\n        callback(new Error(\"Formato número telefónico es inválido\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const validateidentityDocumentNumber = (rule, value, callback) => {\r\n      // /[^0-9]/gi\r\n      const reg = new RegExp(\"^([A-Z0-9]{8,9})$\");\r\n      if (value === \"\") {\r\n        callback(new Error(\"No puede estar vacío\"));\r\n      } else if (value.length !== 8 || isNaN(value)) {\r\n        callback(new Error(\"El número de documento debe ser de 8 números\"));\r\n      } else if (!reg.test(value)) {\r\n        callback(new Error(\"Formato inválido\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const isAdult = (rule, value, callback) => {\r\n      if (value === \"\" || typeof value === \"undefined\") {\r\n        callback(new Error(\"Fecha de nacimiento es requerida\"));\r\n      } else if (moment(value).isAfter(moment().subtract(15, \"years\"))) {\r\n        callback(new Error(\"Debe ser mayor de 15 años\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      parentForm: {\r\n        names: \"\",\r\n        surname: \"\",\r\n        identityDocumentNumber: \"\",\r\n        birthday: \"\",\r\n        email: \"\",\r\n        phoneNumber: \"\",\r\n        gender: \"\",\r\n        specialOffer: \"\"\r\n      },\r\n      validateForm: {\r\n        names: [\r\n          {\r\n            required: true,\r\n            message: \"El nombre es requerido\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        surname: [\r\n          {\r\n            required: true,\r\n            message: \"El apellido es requerido\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: \"El correo electrónico es requerido\",\r\n            trigger: \"blur\"\r\n          },\r\n          { type: \"email\", message: \"Formato inválido\", trigger: \"blur\" }\r\n        ],\r\n        phoneNumber: [\r\n          { required: true, validator: validatePhoneNumber, trigger: \"change\" }\r\n        ],\r\n        identityDocumentNumber: [\r\n          {\r\n            required: true,\r\n            validator: validateidentityDocumentNumber,\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        gender: [\r\n          { required: true, message: \"El género es requerido\", trigger: \"blur\" }\r\n        ],\r\n        specialOffer: [\r\n          {\r\n            required: true,\r\n            message: \"Este campo es requerido\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        birthday: [\r\n          {\r\n            required: true,\r\n            type: \"date\",\r\n            validator: isAdult,\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    async nextPage() {\r\n      this.$refs[\"parentForm\"].validate(async valid => {\r\n        if (valid) {\r\n          try {\r\n            if (\r\n              moment(this.parentForm.birthday).isAfter(\r\n                moment().subtract(18, \"years\")\r\n              )\r\n            ) {\r\n              this.parentForm.notAdult = true;\r\n            } else {\r\n              this.parentForm.notAdult = false;\r\n            }\r\n            localStorage.setItem(\"data\", JSON.stringify(this.parentForm));\r\n            this.$router.push(\"/address\");\r\n          } catch (error) {\r\n            this.$Notice.error({\r\n              title: \"No se pudo completar el registro\"\r\n            });\r\n          }\r\n        } else {\r\n          this.$Notice.error({\r\n            title: \"Hay campos inválidos en el formulario\"\r\n          });\r\n        }\r\n      });\r\n    },\r\n    goBack() {\r\n      this.$router.push(\"/about\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}