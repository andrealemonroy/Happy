{"remainingRequest":"/Users/andreamonroy/Documents/Privado/happyland-vue/happyland/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andreamonroy/Documents/Privado/happyland-vue/happyland/src/views/registerParent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andreamonroy/Documents/Privado/happyland-vue/happyland/src/views/registerParent.vue","mtime":1578062827288},{"path":"/Users/andreamonroy/Documents/Privado/happyland-vue/happyland/node_modules/cache-loader/dist/cjs.js","mtime":1575991294243},{"path":"/Users/andreamonroy/Documents/Privado/happyland-vue/happyland/node_modules/vue-loader/lib/index.js","mtime":1576527882455}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAiLi4vYXNzZXRzL2Nzcy9zdHlsZS5jc3MiOwppbXBvcnQgKiBhcyBBcGkgZnJvbSAiLi4vLi4vc2VydmVyL2luZGV4IjsKaW1wb3J0IGxvY2FsU3RvcmFnZSBmcm9tICJsb2NhbFN0b3JhZ2UiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgY29uc3QgdmFsaWRhdGVQaG9uZU51bWJlciA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgY29uc3QgcmVnID0gbmV3IFJlZ0V4cCgiXihbMC05XXs5LH0pJCIpOwogICAgICBpZiAodmFsdWUgPT09ICIiIHx8ICF2YWx1ZSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigiTsO6bWVybyB0ZWxlZsOzbmljbyBlcyByZXF1ZXJpZG8iKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoICE9PSA5KSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCJEZWJlIHNlciBzw7NsbyA5IGTDrWdpdG9zIikpOwogICAgICB9IGVsc2UgaWYgKCFyZWcudGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIkZvcm1hdG8gbsO6bWVybyB0ZWxlZsOzbmljbyBlcyBpbnbDoWxpZG8iKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IHZhbGlkYXRlaWRlbnRpdHlEb2N1bWVudE51bWJlciA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgLy8gL1teMC05XS9naQogICAgICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKCJeKFtBLVowLTldezgsOX0pJCIpOwogICAgICBpZiAodmFsdWUgPT09ICIiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCJObyBwdWVkZSBlc3RhciB2YWPDrW8iKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoICE9PSA4IHx8IGlzTmFOKHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigiRWwgbsO6bWVybyBkZSBkb2N1bWVudG8gZGViZSBzZXIgZGUgOCBuw7ptZXJvcyIpKTsKICAgICAgfSBlbHNlIGlmICghcmVnLnRlc3QodmFsdWUpKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCJGb3JtYXRvIGludsOhbGlkbyIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgY29uc3QgaXNBZHVsdCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlID09PSAiIiB8fCB0eXBlb2YgdmFsdWUgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCJGZWNoYSBkZSBuYWNpbWllbnRvIGVzIHJlcXVlcmlkYSIpKTsKICAgICAgfSBlbHNlIGlmIChtb21lbnQodmFsdWUpLmlzQWZ0ZXIobW9tZW50KCkuc3VidHJhY3QoMTUsICJ5ZWFycyIpKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigiRGViZSBzZXIgbWF5b3IgZGUgMTUgYcOxb3MiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIHJldHVybiB7CiAgICAgIHBhcmVudEZvcm06IHsKICAgICAgICBuYW1lczogIiIsCiAgICAgICAgc3VybmFtZTogIiIsCiAgICAgICAgaWRlbnRpdHlEb2N1bWVudE51bWJlcjogIiIsCiAgICAgICAgYmlydGhkYXk6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwaG9uZU51bWJlcjogIiIsCiAgICAgICAgZ2VuZGVyOiAiIiwKICAgICAgICBzcGVjaWFsT2ZmZXI6ICIiCiAgICAgIH0sCiAgICAgIHZhbGlkYXRlRm9ybTogewogICAgICAgIG5hbWVzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAiRWwgbm9tYnJlIGVzIHJlcXVlcmlkbyIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgc3VybmFtZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIkVsIGFwZWxsaWRvIGVzIHJlcXVlcmlkbyIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgZW1haWw6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJFbCBjb3JyZW8gZWxlY3Ryw7NuaWNvIGVzIHJlcXVlcmlkbyIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfSwKICAgICAgICAgIHsgdHlwZTogImVtYWlsIiwgbWVzc2FnZTogIkZvcm1hdG8gaW52w6FsaWRvIiwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdLAogICAgICAgIHBob25lTnVtYmVyOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCB2YWxpZGF0b3I6IHZhbGlkYXRlUGhvbmVOdW1iZXIsIHRyaWdnZXI6ICJjaGFuZ2UiIH0KICAgICAgICBdLAogICAgICAgIGlkZW50aXR5RG9jdW1lbnROdW1iZXI6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVpZGVudGl0eURvY3VtZW50TnVtYmVyLAogICAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgZ2VuZGVyOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAiRWwgZ8OpbmVybyBlcyByZXF1ZXJpZG8iLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgICAgc3BlY2lhbE9mZmVyOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAiRXN0ZSBjYW1wbyBlcyByZXF1ZXJpZG8iLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIGJpcnRoZGF5OiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICB0eXBlOiAiZGF0ZSIsCiAgICAgICAgICAgIHZhbGlkYXRvcjogaXNBZHVsdCwKICAgICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBuZXh0UGFnZSgpIHsKICAgICAgdGhpcy4kcmVmc1sicGFyZW50Rm9ybSJdLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBtb21lbnQodGhpcy5wYXJlbnRGb3JtLmJpcnRoZGF5KS5pc0FmdGVyKAogICAgICAgICAgICAgICAgbW9tZW50KCkuc3VidHJhY3QoMTgsICJ5ZWFycyIpCiAgICAgICAgICAgICAgKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLnBhcmVudEZvcm0ubm90QWR1bHQgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMucGFyZW50Rm9ybS5ub3RBZHVsdCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJkYXRhIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJlbnRGb3JtKSk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYWRkcmVzcyIpOwogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgICB0aXRsZTogIk5vIHNlIHB1ZG8gY29tcGxldGFyIGVsIHJlZ2lzdHJvIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICJIYXkgY2FtcG9zIGludsOhbGlkb3MgZW4gZWwgZm9ybXVsYXJpbyIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Fib3V0Iik7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["registerParent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"registerParent.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <section class=\"center mt-60 font-20\">\n    <h1>INGRESE SU INFORMACIÓN AL REGISTRO</h1>\n    <Form\n      ref=\"parentForm\"\n      :model=\"parentForm\"\n      :rules=\"validateForm\"\n      class=\"mt-60\"\n      label-position=\"top\"\n    >\n      <Row type=\"flex\" justify=\"space-around\">\n        <Col span=\"7\">\n          <FormItem prop=\"names\" label=\"Nombre\"\n            ><Input v-model=\"parentForm.names\" placeholder=\"ej. Andrea\"></Input\n          ></FormItem>\n        </Col>\n        <Col span=\"7\">\n          <FormItem prop=\"surname\" label=\"Apellido\"\n            ><Input\n              v-model=\"parentForm.surname\"\n              placeholder=\"ej. Sánchez\"\n            ></Input\n          ></FormItem>\n        </Col>\n        <Col span=\"7\">\n          <FormItem prop=\"identityDocumentNumber\" label=\"DNI\"\n            ><Input\n              v-model=\"parentForm.identityDocumentNumber\"\n              placeholder=\"ej. 12345678\"\n            ></Input\n          ></FormItem>\n        </Col>\n      </Row>\n      <Row type=\"flex\" justify=\"space-around\">\n        <Col span=\"7\">\n          <FormItem prop=\"email\" label=\"Correo electrónico\"\n            ><Input\n              v-model=\"parentForm.email\"\n              placeholder=\"ej. happyland@gmail.com\"\n            ></Input\n          ></FormItem>\n        </Col>\n        <Col span=\"7\">\n          <FormItem prop=\"phoneNumber\" label=\"Celular\"\n            ><Input\n              v-model=\"parentForm.phoneNumber\"\n              placeholder=\"987654321\"\n            ></Input\n          ></FormItem>\n        </Col>\n        <Col span=\"7\">\n          <FormItem prop=\"gender\" label=\"Género\">\n            <RadioGroup v-model=\"parentForm.gender\">\n              <Radio label=\"female\">Femenino</Radio>\n              <Radio label=\"male\">Masculino</Radio>\n            </RadioGroup>\n          </FormItem>\n        </Col>\n      </Row>\n      <Row type=\"flex\" justify=\"space-around\">\n        <Col span=\"7\">\n          <FormItem\n            prop=\"specialOffer\"\n            label=\"Me gustaría recibir ofertas especiales a través de:\"\n          >\n            <RadioGroup v-model=\"parentForm.specialOffer\">\n              <Radio label=\"mail\">Email</Radio>\n              <Radio label=\"sms\">Mensaje de texto</Radio>\n            </RadioGroup>\n          </FormItem>\n        </Col>\n        <Col span=\"7\">\n          <FormItem prop=\"birthday\" label=\"Fecha de nacimiento\">\n            <DatePicker\n              type=\"date\"\n              :editable=\"true\"\n              format=\"yyyy-MM-dd\"\n              :confirm=\"false\"\n              placeholder=\"Fecha de nacimiento\"\n              v-model=\"parentForm.birthday\"\n            ></DatePicker>\n          </FormItem>\n        </Col>\n        <Col span=\"7\"></Col>\n      </Row>\n      <br />\n      <Row type=\"flex\" justify=\"space-between\">\n        <Col span=\"6\"\n          ><Button @click=\"goBack\">\n            <Icon type=\"ios-arrow-back\" />Regresar</Button\n          >\n        </Col>\n        <Col span=\"6\"><Button @click=\"nextPage\">Siguiente</Button> </Col>\n      </Row>\n    </Form>\n  </section>\n</template>\n<script>\nimport \"../assets/css/style.css\";\nimport * as Api from \"../../server/index\";\nimport localStorage from \"localStorage\";\nimport moment from \"moment\";\nexport default {\n  data() {\n    const validatePhoneNumber = (rule, value, callback) => {\n      const reg = new RegExp(\"^([0-9]{9,})$\");\n      if (value === \"\" || !value) {\n        callback(new Error(\"Número telefónico es requerido\"));\n      } else if (value.length !== 9) {\n        callback(new Error(\"Debe ser sólo 9 dígitos\"));\n      } else if (!reg.test(value)) {\n        callback(new Error(\"Formato número telefónico es inválido\"));\n      } else {\n        callback();\n      }\n    };\n    const validateidentityDocumentNumber = (rule, value, callback) => {\n      // /[^0-9]/gi\n      const reg = new RegExp(\"^([A-Z0-9]{8,9})$\");\n      if (value === \"\") {\n        callback(new Error(\"No puede estar vacío\"));\n      } else if (value.length !== 8 || isNaN(value)) {\n        callback(new Error(\"El número de documento debe ser de 8 números\"));\n      } else if (!reg.test(value)) {\n        callback(new Error(\"Formato inválido\"));\n      } else {\n        callback();\n      }\n    };\n    const isAdult = (rule, value, callback) => {\n      if (value === \"\" || typeof value === \"undefined\") {\n        callback(new Error(\"Fecha de nacimiento es requerida\"));\n      } else if (moment(value).isAfter(moment().subtract(15, \"years\"))) {\n        callback(new Error(\"Debe ser mayor de 15 años\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      parentForm: {\n        names: \"\",\n        surname: \"\",\n        identityDocumentNumber: \"\",\n        birthday: \"\",\n        email: \"\",\n        phoneNumber: \"\",\n        gender: \"\",\n        specialOffer: \"\"\n      },\n      validateForm: {\n        names: [\n          {\n            required: true,\n            message: \"El nombre es requerido\",\n            trigger: \"blur\"\n          }\n        ],\n        surname: [\n          {\n            required: true,\n            message: \"El apellido es requerido\",\n            trigger: \"blur\"\n          }\n        ],\n        email: [\n          {\n            required: true,\n            message: \"El correo electrónico es requerido\",\n            trigger: \"blur\"\n          },\n          { type: \"email\", message: \"Formato inválido\", trigger: \"blur\" }\n        ],\n        phoneNumber: [\n          { required: true, validator: validatePhoneNumber, trigger: \"change\" }\n        ],\n        identityDocumentNumber: [\n          {\n            required: true,\n            validator: validateidentityDocumentNumber,\n            trigger: \"change\"\n          }\n        ],\n        gender: [\n          { required: true, message: \"El género es requerido\", trigger: \"blur\" }\n        ],\n        specialOffer: [\n          {\n            required: true,\n            message: \"Este campo es requerido\",\n            trigger: \"blur\"\n          }\n        ],\n        birthday: [\n          {\n            required: true,\n            type: \"date\",\n            validator: isAdult,\n            trigger: \"change\"\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    async nextPage() {\n      this.$refs[\"parentForm\"].validate(async valid => {\n        if (valid) {\n          try {\n            if (\n              moment(this.parentForm.birthday).isAfter(\n                moment().subtract(18, \"years\")\n              )\n            ) {\n              this.parentForm.notAdult = true;\n            } else {\n              this.parentForm.notAdult = false;\n            }\n            localStorage.setItem(\"data\", JSON.stringify(this.parentForm));\n            this.$router.push(\"/address\");\n          } catch (error) {\n            this.$Notice.error({\n              title: \"No se pudo completar el registro\"\n            });\n          }\n        } else {\n          this.$Notice.error({\n            title: \"Hay campos inválidos en el formulario\"\n          });\n        }\n      });\n    },\n    goBack() {\n      this.$router.push(\"/about\");\n    }\n  }\n};\n</script>\n"]}]}